<!-- AUTO-GENERATED FILE - DO NOT EDIT -->
<!-- This file is automatically generated from benchmark results. -->
<!-- To regenerate: rake benchmark:generate_docs -->

# Performance Benchmarks

Performance comparison between Cataract's C extension and pure Ruby implementations.

## Test Environment

- **Ruby**: <%= metadata['ruby_description'] %>
- **CPU**: <%= metadata['cpu'] %>
- **Memory**: <%= metadata['memory'] %>
- **OS**: <%= metadata['os'] %>
- **Generated**: <%= metadata['timestamp'] %>

<%- if parsing_data -%>
## CSS Parsing

<%= parsing_data['description'] %>

| Test Case | Native | Pure (no YJIT) | Pure (YJIT) |
|-----------|--------|----------------|-------------|
<%- parsing_data['metadata']['test_cases'].each do |test_case| -%>
<%- results = parsing_data['results'].select { |r| r['name'].include?(test_case['fixture']) } -%>
<%- pure_no_yjit = results.find { |r| r['implementation'] == 'pure_without_yjit' } -%>
<%- pure_with_yjit = results.find { |r| r['implementation'] == 'pure_with_yjit' } -%>
<%- native = results.find { |r| r['implementation'] == 'native' } -%>
| <%= test_case['name'] %> | <%= native ? format_ips(native, short: true) : 'N/A' %> | <%= pure_no_yjit ? format_ips(pure_no_yjit, short: true) : 'N/A' %> | <%= pure_with_yjit ? format_ips(pure_with_yjit, short: true) : 'N/A' %> |
<%- end -%>

### Speedups

| Comparison | Speedup |
|------------|---------|
<%= speedup_rows(parsing_data, test_case_key: :fixture) %>

---
<%- end -%>

<%- if serialization_data -%>
## CSS Serialization

<%= serialization_data['description'] %>

| Test Case | Native | Pure (no YJIT) | Pure (YJIT) |
|-----------|--------|----------------|-------------|
<%- serialization_data['metadata']['test_cases'].each do |test_case| -%>
<%- results = serialization_data['results'].select { |r| r['name'].include?(test_case['key']) } -%>
<%- pure_no_yjit = results.find { |r| r['implementation'] == 'pure_without_yjit' } -%>
<%- pure_with_yjit = results.find { |r| r['implementation'] == 'pure_with_yjit' } -%>
<%- native = results.find { |r| r['implementation'] == 'native' } -%>
| <%= test_case['name'] %> | <%= native ? format_ips(native, short: true) : 'N/A' %> | <%= pure_no_yjit ? format_ips(pure_no_yjit, short: true) : 'N/A' %> | <%= pure_with_yjit ? format_ips(pure_with_yjit, short: true) : 'N/A' %> |
<%- end -%>

### Speedups

| Comparison | Speedup |
|------------|---------|
<%= speedup_rows(serialization_data, test_case_key: :key) %>

---
<%- end -%>

<%- if specificity_data -%>
## Specificity Calculation

<%= specificity_data['description'] %>

| Test Case | Native | Pure (no YJIT) | Pure (YJIT) |
|-----------|--------|----------------|-------------|
<%- specificity_data['metadata']['test_cases'].each do |test_case| -%>
<%- results = specificity_data['results'].select { |r| r['name'].include?(test_case['key']) } -%>
<%- pure_no_yjit = results.find { |r| r['implementation'] == 'pure_without_yjit' } -%>
<%- pure_with_yjit = results.find { |r| r['implementation'] == 'pure_with_yjit' } -%>
<%- native = results.find { |r| r['implementation'] == 'native' } -%>
| <%= test_case['name'] %> | <%= native ? format_ips(native, short: true) : 'N/A' %> | <%= pure_no_yjit ? format_ips(pure_no_yjit, short: true) : 'N/A' %> | <%= pure_with_yjit ? format_ips(pure_with_yjit, short: true) : 'N/A' %> |
<%- end -%>

### Speedups

| Comparison | Speedup |
|------------|---------|
<%= speedup_rows(specificity_data, test_case_key: :key) %>

---
<%- end -%>

<%- if flattening_data -%>
## CSS Flattening (Cascade)

<%= flattening_data['description'] %>

| Test Case | Native | Pure (no YJIT) | Pure (YJIT) |
|-----------|--------|----------------|-------------|
<%- flattening_data['metadata']['test_cases'].each do |test_case| -%>
<%- results = flattening_data['results'].select { |r| r['name'].include?(test_case['key']) } -%>
<%- pure_no_yjit = results.find { |r| r['implementation'] == 'pure_without_yjit' } -%>
<%- pure_with_yjit = results.find { |r| r['implementation'] == 'pure_with_yjit' } -%>
<%- native = results.find { |r| r['implementation'] == 'native' } -%>
| <%= test_case['name'] %> | <%= native ? format_ips(native, short: true) : 'N/A' %> | <%= pure_no_yjit ? format_ips(pure_no_yjit, short: true) : 'N/A' %> | <%= pure_with_yjit ? format_ips(pure_with_yjit, short: true) : 'N/A' %> |
<%- end -%>

### Speedups

| Comparison | Speedup |
|------------|---------|
<%= speedup_rows(flattening_data, test_case_key: :key) %>

---
<%- end -%>

## Running Benchmarks

```bash
# All benchmarks
rake benchmark

# Individual benchmarks
rake benchmark:parsing
rake benchmark:serialization
rake benchmark:specificity
rake benchmark:flattening

# Generate documentation
rake benchmark:generate_docs
```

## Notes

- Benchmarks use benchmark-ips with 1-2s warmup and 2-5s measurement periods
- Measurements show median iterations per second (i/s)
- YJIT is enabled/disabled per subprocess for accurate comparison
